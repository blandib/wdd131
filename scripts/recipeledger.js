 const recipes = [
  {
    "id": "rec_sa_001",
    "name": "Bobotie",
    "image": "https://th.bing.com/th/id/R.279ae5338304b803644472608f5a60c5?rik=fm66Em%2b8thXGIQ&riu=http%3a%2f%2fwww.thespicekitrecipes.com%2fwp-content%2fuploads%2f2013%2f12%2fBobotie2.jpg&ehk=ZBfIPk2oiKz0KS%2bQxZC4zKGDecF4x5%2bv5%2b%2bKchI1a6c%3d&risl=&pid=ImgRaw&r=0",
    "description": "Bobotie is a delicious South African dish made with minced meat cooked with spices such as curry powder, herbs, and dried fruit before being covered with an egg and milk combination and baked until set. This recipe is sure to delight and please your taste buds!!!",
    "category": "Lunch",
    "cuisine": "South African",
    "prepTime": 15,
    "cookTime": 40,
    "totalTime": 55,
    "servings": 4,
    "popularity": 120, 
     "rating": 4.5,
    "dietary": "keto",
    "difficulty": "Intermediate",
    "ingredients": [
      "500g minced beef",
      "1 onion, chopped",
      "2 cloves garlic, minced",
      "1 tbsp curry powder",
      "1 slice bread, soaked in milk",
      "2 eggs",
      "1/2 cup milk",
      "Salt and pepper to taste"
    ],
    "instructions": [
      "Preheat oven to 180¬∞C.",
      "Saut√© onions and garlic in a pan.",
      "Add minced beef and curry powder, cook until browned.",
      "Mix soaked bread into the meat mixture.",
      "Transfer to a baking dish.",
      "Whisk eggs and milk, pour over the meat.",
      "Bake for 30-40 minutes until golden brown."
    ]
  },
  {
    "id": "rec_sa_002",
    "name": "Bunny Chow",
    "image": "https://louskitchencorner.freybors.com/wp-content/uploads/2020/07/bunny-chow.png",
    "description": "Bunny chow is a flavorful South African food made with aromatic spices, meat, chickpeas, and potatoes. It is usually served in a hollowed-out loaf of white bread. It is wildly popular throughout South Africa and beyond because of its delicious taste and easy preparation",
    "category": "Lunch",
    "cuisine": "South African",
    "prepTime": 20,
    "cookTime": 30,
    "totalTime": 50,
    "servings": 4,
    "popularity": 120, 
    "rating": 4.5,
    "dietary": "vegeterian",
    "difficulty": "Easy",
    "ingredients": [
      "1 loaf of bread",
      "500g chicken or beef",
      "1 onion, chopped",
      "2 cloves garlic, minced",
      "1 tbsp curry powder",
      "1 cup tomatoes, chopped",
      "Salt and pepper to taste"
    ],
    "instructions": [
      "Saut√© onions and garlic in a pan.",
      "Add meat and curry powder, cook until browned.",
      "Add tomatoes and simmer for 20 minutes.",
      "Cut the loaf of bread and hollow out the center.",
      "Fill the bread with the curry mixture.",
      "Serve warm."
    ]
  },
  {
    "id": "rec_sa_003",
    "name": "Chakalaka",
    "image": "https://cdn.tasteatlas.com/images/recipes/65b761598fd04d8c81dea63fef522c4d.jpg?mw=1300",
    "description": "Chakalaka is a South African vegetable relish made with onions, tomatoes, peppers, carrots, beans, and spices. It pairs well with bread, stews, meat, and many other dishes. This is a must-try!",
    "category": "Dinner",
    "cuisine": "South African",
    "prepTime": 15,
    "cookTime": 20,
    "totalTime": 35,
    "servings": 6,
    "popularity": 120, 
    "rating": 4.5,
    "difficulty": "Easy",
    "dietary": "Vegan",
    "ingredients": [
      "2 carrots, grated",
      "1 onion, chopped",
      "1 bell pepper, chopped",
      "1 can baked beans",
      "1 tbsp curry powder",
      "Salt and pepper to taste"
    ],
    "instructions": [
      "Saut√© onions and bell peppers in a pan.",
      "Add grated carrots and cook for 5 minutes.",
      "Stir in baked beans and curry powder.",
      "Simmer for 10 minutes.",
      "Serve as a side dish."
    ]
  },
  {
    "id": "rec_sa_004",
    "name": "Malva Pudding",
    "image": "https://www.196flavors.com/wp-content/uploads/2019/04/malva-pudding.jpeg",
    "description": "This Malva pudding is absolutely excellent, with a caramelized exterior and a spongy interior. This dish is rich of buttery flavor thanks to the warm butter sauce",
    "category": "Dessert",
    "cuisine": "South African",
    "prepTime": 20,
    "cookTime": 45,
    "totalTime": 65,
    "servings": 8,
    "popularity": 120, 
    "rating": 4.5,
    "dietary": "keto",
    "difficulty": "Intermediate",
    "ingredients": [
      "1 cup flour",
      "1 cup sugar",
      "1 egg",
      "1 tbsp apricot jam",
      "1/2 cup milk",
      "1/2 tsp baking soda",
      "1/2 cup butter"
    ],
    "instructions": [
      "Preheat oven to 180¬∞C.",
      "Mix butter, sugar, and egg until creamy.",
      "Add flour, baking soda, and milk.",
      "Stir in apricot jam.",
      "Pour into a baking dish and bake for 30 minutes.",
      "Serve with warm sauce."
    ]
  },
  {
    "id": "rec_it_001",
    "name": "Spaghetti Carbonara",
    "image": "https://www.cookingclassy.com/wp-content/uploads/2020/10/spaghetti-carbonara-01-1024x1536.jpg",
    "description": "A classic Roman pasta dish featuring silky egg-based sauce clinging to al dente spaghetti, studded with crispy guanciale (cured pork cheek) and sharp Pecorino Romano cheese.",
    "category": "Dinner",
    "cuisine": "Italian",
    "prepTime": 10,
    "cookTime": 15,
    "totalTime": 25,
    "servings": 2,
    "popularity": 120, 
     "rating": 4.5,
    "dietary": "vegetarian",
    "difficulty": "Intermediate",
    "ingredients": [
      "200g spaghetti",
      "100g guanciale",
      "50g Pecorino Romano",
      "2 large eggs",
      "Black pepper to taste"
    ],
    "instructions": [
      "Cook spaghetti until al dente.",
      "Fry guanciale until crispy.",
      "Whisk eggs and grated cheese.",
      "Combine all ingredients with pasta water to create sauce.",
      "Serve immediately with black pepper."
    ]
  },
  {
    "id": "rec_it_002",
    "name": "Classic - Pizza-Margherita",
    "image": "https://veenaazmanov.com/wp-content/uploads/2020/04/Classic-Pizza-Margherita1.jpg",
    "description": "Traditional Italian pizza with fresh basil and mozzarella",
    "category": "Dinner",
    "cuisine": "Italian",
    "prepTime": 30,
    "cookTime": 12,
    "totalTime": 42,
    "servings": 4,
    "popularity": 120, 
     "rating": 5.6,
    "dietary": "keto",
    "difficulty": "Medium",
    "ingredients": [
      "500g pizza dough",
      "150ml tomato sauce",
      "200g fresh mozzarella",
      "10 fresh basil leaves",
      "2 tbsp olive oil",
      "1 tsp salt",
      "1/2 tsp black pepper"
    ],
    "instructions": [
      "Preheat oven to 250¬∞C (480¬∞F) with pizza stone",
      "Roll out dough on floured surface to 30cm diameter",
      "Spread tomato sauce evenly over dough",
      "Tear mozzarella and distribute evenly",
      "Bake for 10-12 minutes until crust is golden",
      "Remove from oven, add fresh basil leaves",
      "Drizzle with olive oil, season with salt and pepper",
      "Slice and serve immediately"
    ]
  },
  {
    "id": "rec_us_001",
    "name": "Chocolate Chip Cookies",
    "image": "https://th.bing.com/th/id/R.fe9feae598e96705c5b23953ac7a56f9?rik=9ih5ErYV%2fa6g%2bw&pid=ImgRaw&r=0",
    "description": "Crisp-edged, chewy-centered cookies with molten chocolate pockets",
    "category": "Desserts",
    "cuisine": "American",
    "prepTime": 15,
    "cookTime": 10,
    "chillTime": 30,
    "totalTime": 55,
    "servings": 24,
    "popularity": 90, 
     "rating": 4.0,
    "difficulty": "Easy",
    "dietary": "vegan",
    "ingredients": [
      "2 1/4 cups all-purpose flour",
      "1 tsp baking soda",
      "1 tsp salt",
      "1 cup unsalted butter, softened",
      "3/4 cup granulated sugar",
      "3/4 cup packed brown sugar",
      "2 large eggs",
      "2 cups chocolate chips"
    ],
    "instructions": [
      "Preheat oven to 375¬∞F (190¬∞C).",
      "Mix dry ingredients in bowl.",
      "Cream butter and sugars.",
      "Add eggs one at a time.",
      "Gradually add dry ingredients.",
      "Fold in chocolate chips.",
      "Drop dough onto baking sheets.",
      "Bake for 9-11 minutes."
    ]
  },
  {
    "id": "rec_mx_001",
    "name": "Beef Tacos",
    "image": "https://www.dinneratthezoo.com/wp-content/uploads/2018/05/ground-beef-tacos-2.jpg",
    "description": "Flavorful Mexican street-style tacos",
    "category": "Breakfast",
    "cuisine": "Mexican",
    "prepTime": 20,
    "cookTime": 15,
    "totalTime": 35,
    "servings": 4,
    "popularity": 120, 
    "rating": 5.5,
    "dietary": "none",
    "difficulty": "Easy",
    "ingredients": [
      "500g ground beef",
      "1 packet taco seasoning",
      "12 small corn tortillas",
      "1 cup diced tomatoes",
      "1 cup shredded lettuce",
      "1/2 cup diced onions",
      "1 cup shredded cheddar",
      "1 avocado, sliced",
      "1/2 cup sour cream",
      "1 lime, cut into wedges"
    ],
    "instructions": [
      "Brown ground beef in skillet over medium heat",
      "Drain fat, add taco seasoning and water as directed",
      "Simmer for 5 minutes",
      "Warm tortillas according to package directions",
      "Assemble tacos with beef and desired toppings",
      "Serve with lime wedges"
    ]
  },
  {
    "id": "rec_in_001",
    "name": "Vegetable Curry",
    "image": "https://th.bing.com/th/id/OIP.DHGl_ShK9Ba9PiWLno1TKQHaHa?rs=1&pid=ImgDetMain",
    "description": "Hearty Indian-inspired vegetable curry",
    "category": "Dinner",
    "cuisine": "Indian",
    "prepTime": 15,
    "cookTime": 25,
    "totalTime": 40,
    "servings": 4,
    "popularity": 100, 
    "rating": 4.5,
    "difficulty": "Easy",
    "ingredients": [
      "2 tbsp vegetable oil",
      "1 onion, diced",
      "3 cloves garlic, minced",
      "1 tbsp ginger, grated",
      "2 tbsp curry powder",
      "1 can (400ml) coconut milk",
      "1 sweet potato, cubed",
      "1 bell pepper, sliced",
      "1 cup cauliflower florets",
      "1 cup chickpeas, drained",
      "1 cup spinach",
      "Salt to taste"
    ],
    "instructions": [
      "Heat oil in large pot over medium heat",
      "Saut√© onion until translucent (5 mins)",
      "Add garlic, ginger, curry powder; cook 1 minute",
      "Add coconut milk and 1 cup water, bring to simmer",
      "Add sweet potato, cook for 10 minutes",
      "Add remaining vegetables, cook 10 more minutes",
      "Stir in spinach until wilted",
      "Season with salt, serve with rice"
    ]
  },
  {
    "id": "rec_fr_001",
    "name": "Chocolate Lava Cake",
    "image": "https://www.cookingclassy.com/wp-content/uploads/2022/02/molten-lava-cake-17-768x1152.jpg",
    "description": "Decadent chocolate cake with molten center",
    "category": "Desserts",
    "cuisine": "French",
    "prepTime": 15,
    "cookTime": 12,
    "totalTime": 27,
    "servings": 4,
    "popularity": 120, 
    "rating": 4.5,
    "difficulty": "Intermediate",
    "ingredients": [
      "200g dark chocolate (70% cocoa)",
      "100g butter",
      "2 eggs",
      "50g sugar",
      "30g flour"
    ],
    "instructions": [
      "Preheat oven to 220¬∞C (425¬∞F)",
      "Melt chocolate and butter together",
      "Whisk eggs and sugar until pale",
      "Fold chocolate mixture into eggs",
      "Add flour and mix gently",
      "Pour into ramekins and bake for exactly 12 minutes",
      "Serve immediately with vanilla ice cream"
    ]
  },
    {
    "id": 1,
    "name": "Creamy Garlic Parmesan Pasta",
    "image": "https://www.cookingclassy.com/wp-content/uploads/2023/05/garlic-parmesan-pasta-3.jpg",
    "description": "Rich and creamy pasta with garlic and parmesan",
    "category": "Dinner",
    "cuisine": "Italian",
    "prep_time_min": 10,
    "cook_time_min": 20,
    "totalTime": 30,
    "servings": 4,
    "ingredients": [
      {
        "name": "fettuccine",
        "quantity": "400g",
        "notes": "or any pasta of choice"
      },
      {
        "name": "heavy cream",
        "quantity": "1 cup"
      },
      {
        "name": "garlic",
        "quantity": "4 cloves",
        "notes": "minced"
      },
      {
        "name": "parmesan cheese",
        "quantity": "1 cup",
        "notes": "freshly grated"
      }
    ],
    "instructions": [
      {
        "step": 1,
        "description": "Cook pasta according to package instructions"
      },
      {
        "step": 2,
        "description": "In a large pan, saut√© garlic in butter until fragrant"
      },
      {
        "step": 3,
        "description": "Add heavy cream and bring to a simmer"
      },
      {
        "step": 4,
        "description": "Stir in parmesan cheese until melted and smooth"
      },
      {
        "step": 5,
        "description": "Toss cooked pasta in the sauce and serve immediately"
      }
    ],
    "nutrition": {
      "calories": 650,
      "protein": "22g",
      "carbs": "75g",
      "fat": "32g"
    },
    "tags": ["vegetarian", "comfort-food", "quick-meal"],
    "equipment": ["large pot", "saut√© pan", "grater"],
    "tips": [
      "Reserve 1/2 cup pasta water to adjust sauce consistency",
      "Add grilled chicken for extra protein"
    ]
  },
  {
    "id": 2,
    "name": "Spicy Thai Basil Chicken",
    "image": "https://zenandspice.com/wp-content/uploads/2019/10/thai-chicken-3.jpg",
    "description": "Authentic Thai street food dish with bold flavors",
    "category" : "Lunch",
    "cuisine": "Thai",
    "prep_time_min": 15,
    "cook_time_min": 10,
    "totalTime": 25,
    "servings": 2,
    "popularity": 120, 
    "rating": 5.5,
    "ingredients": [
      {
        "name": "ground chicken",
        "quantity": "500g"
      },
      {
        "name": "Thai basil leaves",
        "quantity": "1 cup",
        "notes": "packed"
      },
      {
        "name": "chili peppers",
        "quantity": "3-5",
        "notes": "adjust to taste"
      },
      {
        "name": "fish sauce",
        "quantity": "2 tbsp"
      }
    ],
    "instructions": [
      {
        "step": 1,
        "description": "Heat oil in wok over high heat"
      },
      {
        "step": 2,
        "description": "Add minced garlic and chilies, stir for 10 seconds"
      },
      {
        "step": 3,
        "description": "Add ground chicken and break it apart"
      },
      {
        "step": 4,
        "description": "Season with fish sauce, sugar, and soy sauce"
      },
      {
        "step": 5,
        "description": "Add basil leaves just before serving"
      }
    ],
    "nutrition": {
      "calories": 420,
      "protein": "38g",
      "carbs": "12g",
      "fat": "25g"
    },
    "tags": ["high-protein", "spicy", "authentic"],
    "equipment": ["wok", "wooden spoon"],
    "tips": [
      "Serve with jasmine rice",
      "Use holy basil for authentic flavor"
    ]
  },
  {
    "id": "rec001",
    "name": "Authentic Pad Thai",
    "image": "https://1.bp.blogspot.com/-7--zBVpsbBg/Xu0Ab4y0U5I/AAAAAAAALlo/aw_9US0WhTgspizxGyjhTGWMSQH06tfxgCLcBGAsYHQ/s1600/a%2Bwhite%2Bplate%2Bwith%2Brestaurant%2Bstyle%2Bpad%2Bthai%2Brecipe%2Bwith%2Blemon%2Bwedges.jpg",
    "description": "Classic Thai stir-fried noodles with perfect sweet-savory balance",
    "category": "Dinner",
    "cuisine": "Thai",
    "prep_time": 30,
    "cook_time": 15,
    "totalTime": 45,
    "servings": 2,
    "popularity": 120, 
    "rating": 3.5,
    "calories_per_serving": 650,
    "dietary_tags": ["nut-free", "dairy-free"],
    "ingredients": [
      {
        "name": "rice noodles",
        "amount": "200g",
        "preparation": "soaked in warm water for 30 minutes"
      },
      {
        "name": "prawns",
        "amount": "150g",
        "preparation": "peeled and deveined"
      },
      {
        "name": "pad thai sauce",
        "amount": "3 tbsp",
        "notes": "mix: 2 tbsp tamarind, 1 tbsp fish sauce, 1 tbsp palm sugar"
      }
    ],
    "equipment": ["wok", "wooden spatula", "strainer"],
    "instructions": [
      {
        "step": 1,
        "action": "Soak noodles until flexible but firm",
        "time": "30 mins"
      },
      {
        "step": 2,
        "action": "Stir-fry prawns with garlic until pink",
        "time": "2 mins"
      },
      {
        "step": 3,
        "action": "Add noodles and sauce, toss vigorously",
        "time": "3 mins"
      }
    ],
    "chef_tips": [
      "Use day-old noodles for better texture",
      "Serve with lime wedges and crushed peanuts"
    ],
    "variations": [
      {
        "name": "Vegetarian",
        "changes": "Replace prawns with tofu and add more vegetables"
      }
    ]
  },
  {
    "id": "rec002",
    "name": "French Onion Soup",
    "image": "https://www.cookingclassy.com/wp-content/uploads/2022/02/french-onion-soup-28.jpg",
    "description": "Caramelized onion soup with crusty bread and melted cheese",
    "category": "Breakfast",
    "cuisine": "French",
    "prep_time": 20,
    "cook_time": 60,
    "totalTime": 80,
    "popularity": 120, 
    "rating": 4.2,
    "servings": 4,
    "calories_per_serving": 420,
    "dietary_tags": ["vegetarian"],
    "ingredients": [
      {
        "name": "yellow onions",
        "amount": "1kg",
        "preparation": "thinly sliced"
      },
      {
        "name": "beef stock",
        "amount": "1.5L",
        "notes": "vegetable stock for vegetarian version"
      }
    ],
    "equipment": ["heavy pot", "cheese grater", "soup bowls"],
    "instructions": [
      {
        "step": 1,
        "action": "Caramelize onions slowly over low heat",
        "time": "45 mins"
      },
      {
        "step": 2,
        "action": "Deglaze with white wine",
        "time": "5 mins"
      }
    ],
    "presentation_tips": [
      "Use oven-proof bowls for cheese melting",
      "Garnish with fresh thyme"
    ]
  },
  {
    "id": "rec003",
    "name": "Tiramisu",
    "image": "https://th.bing.com/th/id/OIP.P68JotRqfNNb6c-fVroj4QHaE8?rs=1&pid=ImgDetMain",
    "description": "Classic Italian coffee-flavored dessert",
    "cuisine": "Italian",
    "category": "Desserts",
    "prep_time": 40,
    "cook_time": 0,
    "chill_time": 240,
    "totalTime": 280,
    "popularity": 120, 
    "rating": 4.5,
    "servings": 8,
    "calories_per_serving": 380,
    "dietary_tags": ["contains-alcohol"],
    "ingredients": [
      {
        "name": "mascarpone cheese",
        "amount": "500g",
        "temperature": "room temperature"
      },
      {
        "name": "ladyfinger biscuits",
        "amount": "300g"
      }
    ],
    "layers": [
      {
        "layer": 1,
        "components": ["coffee-dipped biscuits"]
      },
      {
        "layer": 2,
        "components": ["mascarpone cream"]
      }
    ],
    "storage": {
      "refrigerator": "3 days",
      "freezer": "Not recommended"
    }
  
  },
  {
    id: 1,
    name: "Avocado Toast",
    image: "https://www.jessicagavin.com/wp-content/uploads/2020/07/avocado-toast-20.jpg",
    description: "Healthy and quick breakfast idea",
    category: "breakfast",
    totalTime: 10,
     popularity: 120, 
  rating: 4.5,
    ingredients: ["bread", "avocado", "lemon juice", "salt", "pepper"],
    instructions: ["Toast bread", "Mash avocado", "Spread and season"]
  },
];
document.addEventListener('DOMContentLoaded', function() {
    // DOM Elements
    const allCards = document.querySelectorAll(".recipe-card");
    const searchInput = document.getElementById("search");
    const timeFilter = document.getElementById("totalTime");
    const dietaryFilter = document.getElementById("dietary");
    const cuisineFilter = document.getElementById("cuisine");

    // Filter Function
    function filterCards() {
        const searchTerm = searchInput.value.toLowerCase().trim();
        const timeVal = timeFilter.value;
        const dietaryVal = dietaryFilter.value;
        const cuisineVal = cuisineFilter.value;

        allCards.forEach(card => {
            const title = card.querySelector("h3").textContent.toLowerCase();
            const time = parseInt(card.dataset.time);
            const dietary = card.dataset.dietary.toLowerCase();
            const cuisine = card.dataset.cuisine.toLowerCase();
            const description = card.textContent.toLowerCase();

            // Check all conditions
            const matchesSearch = searchTerm === '' || 
                                title.includes(searchTerm) || 
                                description.includes(searchTerm);
            
            const matchesTime = timeVal === '' || time <= parseInt(timeVal);
            
            const matchesDietary = dietaryVal === '' || 
                                dietary === dietaryVal.toLowerCase();
            
            const matchesCuisine = cuisineVal === '' || 
                                 cuisine === cuisineVal.toLowerCase();

            // Show/hide card
            card.style.display = (matchesSearch && matchesTime && matchesDietary && matchesCuisine) 
                ? "block" 
                : "none";
        });
    }

    // Event Listeners
    searchInput.addEventListener("input", filterCards);
    timeFilter.addEventListener("change", filterCards);
    dietaryFilter.addEventListener("change", filterCards);
    cuisineFilter.addEventListener("change", filterCards);

    // Initialize filters
    filterCards();

    
       document.addEventListener('DOMContentLoaded', function() {
    

    // Save Functionality - Modified version
    function setupSaveButtons() {
        document.querySelectorAll(".save-btn").forEach(btn => {
            btn.addEventListener("click", function(e) {
                e.preventDefault();
                e.stopPropagation(); // Prevent event bubbling
                
                const card = this.closest(".recipe-card");
                if (!card) return;
                
                const title = card.querySelector("h3")?.textContent;
                if (!title) return;

                // Toggle save state
                const isSaved = localStorage.getItem(`saved-${title}`);
                if (isSaved) {
                    localStorage.removeItem(`saved-${title}`);
                    this.textContent = '‚ô° Save';
                    this.classList.remove('saved');
                } else {
                    localStorage.setItem(`saved-${title}`, "true");
                    this.textContent = '‚ô• Saved';
                    this.classList.add('saved');
                }
            });
        });

        // Initialize saved state
        document.querySelectorAll('.recipe-card').forEach(card => {
            const title = card.querySelector('h3')?.textContent;
            const saveBtn = card.querySelector('.save-btn');
            if (title && saveBtn && localStorage.getItem(`saved-${title}`)) {
                saveBtn.textContent = '‚ô• Saved';
                saveBtn.classList.add('saved');
            }
        });
    }

    // Call this after rendering recipes
    renderRecipes();
    setupSaveButtons();
    
    // Also call when filters change (if you dynamically reload cards)
    function filterCards() {
        // ... your existing filter code ...
        setupSaveButtons(); // Reinitialize save buttons
    }
});
});

/****************
 * second page
 * ***************** */

function renderRecipes(recipeList) {
  const grid = document.getElementById("recipe-grid");
  grid.innerHTML = "";
  recipeList.forEach(recipe => {
    const card = document.createElement("div");
    card.classList.add("recipe-card");
    card.innerHTML = `
      <img src="${recipe.image}" alt="${recipe.name}">
      <h3>${recipe.name}</h3>
      <p> ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |üïí  ${recipe.totalTime} min | ‚ô•Ô∏è Save</p>
    `;
    card.addEventListener("click", () => showRecipe(recipe));
    grid.appendChild(card);
  });
}

function showRecipe(recipe) {
  document.querySelector(".recipe-details").style.display = "block";
  document.getElementById("recipe-title").textContent = recipe.name;
  document.getElementById("recipe-image").src = recipe.image;
  document.getElementById("recipe-description").textContent = recipe.description;

  const ingredientsList = document.getElementById("ingredients-list");
  ingredientsList.innerHTML = "";
  recipe.ingredients.forEach(item => {
    const li = document.createElement("li");
    li.textContent = item;
    ingredientsList.appendChild(li);
  });

  const instructionsList = document.getElementById("instructions-list");
  instructionsList.innerHTML = "";
  recipe.instructions.forEach(step => {
    const li = document.createElement("li");
    li.textContent = step;
    instructionsList.appendChild(li);
  });
}

function filterCategory(cat) {
  const filtered = recipes.filter(r => r.category.toLowerCase() === cat.toLowerCase());
  renderRecipes(filtered);
}

function sortRecipes() {
  const type = document.getElementById("sort").value;
  let sorted = [...recipes];

  if (type === "highest") {
    sorted.sort((a, b) => b.rating - a.rating);
  } else if (type === "newest") {
    sorted.sort((a, b) => b.id - a.id);
  } else if (type === "popular") {
    sorted.sort((a, b) => b.popularity - a.popularity);
  }

  renderRecipes(sorted);
}



function saveRecipe() {
  const title = document.getElementById("recipe-title").textContent;
  localStorage.setItem(title, "saved");
  alert("Recipe saved!");
}
function hideDetails() {
  document.querySelector(".recipe-details").style.display = "none";
}


// Initial render
renderRecipes(recipes);


